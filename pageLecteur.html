<html>
	<head>
		<style type="text/css">
			#audio{position:relative;}
			#audio li{margin:0;padding:0;list-style:none;position:absolute;top:0;}
			#audio li,#audio a{height:60px;display:block;}
			#play{left:0px;width:47px;}
			#play{background-image:url("image.jpg"); border:black; border-width: 1px; width:300px; height:300px!important; background-repeat:no-repeat; background-size:300px 300px}
			#pause{right:0px;width:47px;}
			#pause{background-image:url("image.jpg"); border:black; border-width: 1px; width:300px; height:300px!important; background-repeat:no-repeat; background-size:300px 300px}
			#stop{left:500px;width:47px;}
			#stop{background-image:url("image.jpg"); border:black; border-width: 1px; width:300px; height:300px!important; background-repeat:no-repeat; background-size:300px 300px}
		</style>
		<SCRIPT LANGUAGE="Javascript"></SCRIPT>
		<script>
			var aCanvas;
			var a;

			function init() {
				aCanvas=document.getElementById('myCanvas');
				a = document.getElementsByTagName("audio")[0];
				a.addEventListener("timeupdate", function() { chargement(); }, true);
				a.addEventListener("ended", function() { a.stop(); }, true);
			}


			function play() {
				a.play()
			}

			function pause() {
				a.pause()
			}

			function stop() {
					aCanvas.getContext("2d").clearRect(0, 0, aCanvas.width, aCanvas.height);
					a.currentTime=0;
					a.pause();
			}

			var t;
			var cur;

			function chargement() {
				t=a.duration
				cur=a.currentTime
				aCanvas.getContext("2d").beginPath();
				aCanvas.getContext("2d").arc(100,100,50,0,2*Math.PI*(cur/t),false);
				aCanvas.getContext("2d").fillStyle = "black";
				aCanvas.getContext("2d").stroke();
			}

		</script>
	</head>
	<body onload='init()'>
		<canvas id="myCanvas" width="200" height="200"></canvas>
		<audio src="http://developer.mozilla.org/@api/deki/files/2926/=AudioTest_(1).ogg">
		</audio>
		<ul id="audio">
			<li id="play" onclick="play()"/>
			<li id="pause" onclick="pause()"/>
			<li id="stop" onclick="stop()"/>
		</ul>
	</body>
</html>

